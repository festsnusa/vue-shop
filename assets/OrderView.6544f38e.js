import{_ as h,o as i,c as _,b as e,t as a,m as y,r as p,f as c,d as n,F as v,h as f,i as V}from"./index.0b215802.js";import{u as b}from"./order.f34f03dd.js";import{B as $}from"./Breadcrumbs.0c0c436c.js";const T={name:"DictionaryItem",props:["keyValue","value"]},B={class:"dictionary__item"},x={class:"dictionary__key"},I={class:"dictionary__value"};function g(t,o,l,k,s,u){return i(),_("li",B,[e("span",x,a(l.keyValue),1),e("span",I,a(l.value),1)])}var D=h(T,[["render",g]]);const P={components:{DictionaryItem:D,Breadcrumbs:$},computed:{...y(b),computeItemsCount(){const t=this.items.length;return t===0?"0":t===1?"1 \u0442\u043E\u0432\u0430\u0440":[2,3,4].includes(t)?`${t} \u0442\u043E\u0432\u0430\u0440\u0430`:`${t} \u0442\u043E\u0432\u0430\u0440\u043E\u0432`}},data(){return{items:[],basket:[],totalPrice:0}},methods:{calculateTotal(){this.totalPrice=+this.basket.deliveryType.price,this.items.map(t=>{this.totalPrice+=t.price*t.quantity})}},created(){this.basket=b().order,this.items=this.basket.basket.items,this.calculateTotal(),this.$route.params.id!=this.basket.id&&this.$router.push({name:"home"}),this.orderStore.$subscribe((t,o)=>{this.basket=o.order,this.items=o.order.basket.items,this.calculateTotal()})}},S={class:"content container"},O={class:"content__top"},C={class:"content__title"},N={class:"cart"},R={class:"cart__form form",action:"#",method:"POST"},q={class:"cart__field"},w=e("p",{class:"cart__message"}," \u0411\u043B\u0430\u0433\u043E\u0434\u0430\u0440\u0438\u043C \u0437\u0430\xA0\u0432\u044B\u0431\u043E\u0440 \u043D\u0430\u0448\u0435\u0433\u043E \u043C\u0430\u0433\u0430\u0437\u0438\u043D\u0430. \u041D\u0430\xA0\u0412\u0430\u0448\u0443 \u043F\u043E\u0447\u0442\u0443 \u043F\u0440\u0438\u0434\u0435\u0442 \u043F\u0438\u0441\u044C\u043C\u043E \u0441\xA0\u0434\u0435\u0442\u0430\u043B\u044F\u043C\u0438 \u0437\u0430\u043A\u0430\u0437\u0430. \u041D\u0430\u0448\u0438 \u043C\u0435\u043D\u0435\u0434\u0436\u0435\u0440\u044B \u0441\u0432\u044F\u0436\u0443\u0442\u0441\u044F \u0441\xA0\u0412\u0430\u043C\u0438 \u0432\xA0\u0442\u0435\u0447\u0435\u043D\u0438\u0435 \u0447\u0430\u0441\u0430 \u0434\u043B\u044F \u0443\u0442\u043E\u0447\u043D\u0435\u043D\u0438\u044F \u0434\u0435\u0442\u0430\u043B\u0435\u0439 \u0434\u043E\u0441\u0442\u0430\u0432\u043A\u0438. ",-1),E={class:"dictionary"},F={class:"cart__block"},L={class:"cart__orders"},j={class:"cart__order"},z=e("span",null,"\u0410\u0440\u0442\u0438\u043A\u0443\u043B: 150030",-1),A={class:"cart__total"};function G(t,o,l,k,s,u){const d=p("Breadcrumbs"),r=p("DictionaryItem");return i(),_("main",S,[e("div",O,[c(d,{title:"\u041E\u0444\u043E\u0440\u043C\u043B\u0435\u043D\u0438\u0435 \u0437\u0430\u043A\u0430\u0437\u0430"}),e("h1",C,[n(" \u0417\u0430\u043A\u0430\u0437 \u043E\u0444\u043E\u0440\u043C\u043B\u0435\u043D "),e("span",null,"\u2116 "+a(s.basket.id),1)])]),e("section",N,[e("form",R,[e("div",q,[w,e("ul",E,[c(r,{keyValue:"\u041F\u043E\u043B\u0443\u0447\u0430\u0442\u0435\u043B\u044C",value:s.basket.name},null,8,["value"]),c(r,{keyValue:"\u0410\u0434\u0440\u0435\u0441 \u0434\u043E\u0441\u0442\u0430\u0432\u043A\u0438",value:s.basket.address},null,8,["value"]),c(r,{keyValue:"\u0422\u0435\u043B\u0435\u0444\u043E\u043D",value:s.basket.phone},null,8,["value"]),c(r,{keyValue:"Email",value:s.basket.email},null,8,["value"]),c(r,{keyValue:"\u0421\u043F\u043E\u0441\u043E\u0431 \u043E\u043F\u043B\u0430\u0442\u044B",value:s.basket.paymentType},null,8,["value"])])]),e("div",F,[e("ul",L,[(i(!0),_(v,null,f(s.items,m=>(i(),_("li",j,[e("h3",null,a(m.product.title),1),e("b",null,a(m.quantity*m.price)+" \u20BD",1),z]))),256))]),e("div",A,[e("p",null,[n(a(s.basket.deliveryType.title)+": ",1),e("b",null,a(s.basket.deliveryType.price),1),n(" \u20BD")]),e("p",null,[n("\u0418\u0442\u043E\u0433\u043E: "),e("b",null,a(u.computeItemsCount),1),n(" \u043D\u0430 \u0441\u0443\u043C\u043C\u0443 "),e("b",null,a(s.totalPrice)+" \u20BD",1)])])])])])])}var H=h(P,[["render",G]]);const J={name:"OrderView",components:{Result:H}};function K(t,o,l,k,s,u){const d=p("Result");return i(),V(d)}var W=h(J,[["render",K]]);export{W as default};
